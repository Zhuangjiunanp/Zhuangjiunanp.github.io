<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>çœŸå®æœåŠ¡å™¨éªŒè¯é¡µé¢</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; }
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .header { background: rgba(255, 255, 255, 0.95); padding: 40px; border-radius: 20px; text-align: center; margin-bottom: 30px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1); }
        .header h1 { color: #2c3e50; font-size: 2.5em; margin-bottom: 10px; }
        .cards-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 25px; margin-bottom: 30px; }
        .card { background: rgba(255, 255, 255, 0.95); padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1); transition: all 0.3s ease; }
        .card:hover { transform: translateY(-5px); box-shadow: 0 15px 30px rgba(0, 0, 0, 0.2); }
        .card h2 { color: #2c3e50; margin-bottom: 20px; font-size: 1.5em; border-bottom: 3px solid #3498db; padding-bottom: 10px; }
        .info-item { display: flex; justify-content: space-between; margin-bottom: 12px; padding: 8px 0; border-bottom: 1px solid #ecf0f1; }
        .info-label { font-weight: 600; color: #2c3e50; min-width: 120px; }
        .info-value { color: #34495e; flex: 1; text-align: right; }
        .status-badge { display: inline-block; padding: 4px 12px; border-radius: 20px; font-size: 0.9em; font-weight: 600; }
        .status-success { background: #d4edda; color: #155724; }
        .status-warning { background: #fff3cd; color: #856404; }
        .btn { display: inline-block; padding: 12px 25px; background: #3498db; color: white; text-decoration: none; border-radius: 8px; transition: all 0.3s ease; font-weight: 600; margin: 5px; }
        .btn:hover { background: #2980b9; transform: translateY(-2px); }
        .loading { color: #6c757d; font-style: italic; }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ çœŸå®æœåŠ¡å™¨éªŒè¯</h1>
            <p>GitHub Actions çœŸå®ç¯å¢ƒéƒ¨ç½²éªŒè¯</p>
        </div>

        <div class="cards-grid">
            <div class="card">
                <h2>ğŸ“Š å®æ—¶ç¯å¢ƒä¿¡æ¯</h2>
                <div class="info-item">
                    <span class="info-label">é¡µé¢åŠ è½½æ—¶é—´:</span>
                    <span class="info-value" id="loadTime">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">å½“å‰æ—¶é—´:</span>
                    <span class="info-value" id="currentTime">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">ç”¨æˆ·ä»£ç†:</span>
                    <span class="info-value" id="userAgent">-</span>
                </div>
                <div class="info-item">
                    <span class="info-label">é¡µé¢åè®®:</span>
                    <span class="info-value" id="pageProtocol">-</span>
                </div>
            </div>

            <div class="card">
                <h2>ğŸ”— API è¿é€šæ€§æµ‹è¯•</h2>
                <div class="info-item">
                    <span class="info-label">GitHub API:</span>
                    <span class="info-value" id="githubStatus">æµ‹è¯•ä¸­...</span>
                </div>
                <div class="info-item">
                    <span class="info-label">æéªŒå®˜ç½‘:</span>
                    <span class="info-value" id="geetestStatus">æµ‹è¯•ä¸­...</span>
                </div>
                <div class="info-item">
                    <span class="info-label">éƒ¨ç½²ä¿¡æ¯:</span>
                    <span class="info-value" id="deployInfoStatus">æµ‹è¯•ä¸­...</span>
                </div>
                <button class="btn" onclick="testAPIs()">é‡æ–°æµ‹è¯•API</button>
            </div>

            <div class="card">
                <h2>ğŸ”§ åŠŸèƒ½æ£€æµ‹</h2>
                <div class="info-item">
                    <span class="info-label">JavaScript:</span>
                    <span class="info-value"><span class="status-badge status-success">å·²å¯ç”¨</span></span>
                </div>
                <div class="info-item">
                    <span class="info-label">LocalStorage:</span>
                    <span class="info-value" id="localStorage">æ£€æµ‹ä¸­...</span>
                </div>
                <div class="info-item">
                    <span class="info-label">SessionStorage:</span>
                    <span class="info-value" id="sessionStorage">æ£€æµ‹ä¸­...</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Cookie:</span>
                    <span class="info-value" id="cookieSupport">æ£€æµ‹ä¸­...</span>
                </div>
            </div>

            <div class="card">
                <h2>ğŸ“ éƒ¨ç½²ä¿¡æ¯</h2>
                <div class="info-item">
                    <span class="info-label">éƒ¨ç½²çŠ¶æ€:</span>
                    <span class="info-value" id="deployStatus">åŠ è½½ä¸­...</span>
                </div>
                <div class="info-item">
                    <span class="info-label">æ„å»ºæ—¶é—´:</span>
                    <span class="info-value" id="buildTime">åŠ è½½ä¸­...</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Git Commit:</span>
                    <span class="info-value" id="gitCommit">åŠ è½½ä¸­...</span>
                </div>
                <button class="btn" onclick="loadDeploymentInfo()">åŠ è½½éƒ¨ç½²ä¿¡æ¯</button>
            </div>
        </div>

        <div class="card">
            <h2>ğŸ”— ç›¸å…³é“¾æ¥</h2>
            <a href="/" class="btn">ğŸ  è¿”å›ä¸»é¡µ</a>
            <a href="/deployment-info.json" class="btn" target="_blank">ğŸ“„ æŸ¥çœ‹éƒ¨ç½²ä¿¡æ¯</a>
            <a href="/build-info.json" class="btn" target="_blank">ğŸ”§ æŸ¥çœ‹æ„å»ºä¿¡æ¯</a>
            <a href="https://github.com/Zhuangjiunanp/Zhuangjiunanp.github.io/actions" class="btn" target="_blank">âš™ï¸ Actionsæ—¥å¿—</a>
        </div>
    </div>

    <script>
        // çœŸå®ç¯å¢ƒæ£€æµ‹
        function updateEnvironmentInfo() {
            document.getElementById('loadTime').textContent = new Date().toLocaleString();
            document.getElementById('userAgent').textContent = navigator.userAgent.substring(0, 60) + '...';
            document.getElementById('pageProtocol').textContent = window.location.protocol;
            
            // å®æ—¶æ›´æ–°æ—¶é—´
            function updateTime() {
                document.getElementById('currentTime').textContent = new Date().toLocaleString();
            }
            updateTime();
            setInterval(updateTime, 1000);
            
            // åŠŸèƒ½æ£€æµ‹
            document.getElementById('localStorage').innerHTML = typeof(Storage) !== "undefined" ? 
                '<span class="status-badge status-success">æ”¯æŒ</span>' : 
                '<span class="status-badge status-warning">ä¸æ”¯æŒ</span>';
                
            document.getElementById('sessionStorage').innerHTML = typeof(Storage) !== "undefined" ? 
                '<span class="status-badge status-success">æ”¯æŒ</span>' : 
                '<span class="status-badge status-warning">ä¸æ”¯æŒ</span>';
                
            document.getElementById('cookieSupport').innerHTML = navigator.cookieEnabled ? 
                '<span class="status-badge status-success">æ”¯æŒ</span>' : 
                '<span class="status-badge status-warning">ä¸æ”¯æŒ</span>';
        }

        // çœŸå®APIæµ‹è¯•
        async function testAPIs() {
            const githubStatus = document.getElementById('githubStatus');
            const geetestStatus = document.getElementById('geetestStatus');
            const deployInfoStatus = document.getElementById('deployInfoStatus');
            
            githubStatus.innerHTML = '<span class="loading">æµ‹è¯•ä¸­...</span>';
            geetestStatus.innerHTML = '<span class="loading">æµ‹è¯•ä¸­...</span>';
            deployInfoStatus.innerHTML = '<span class="loading">æµ‹è¯•ä¸­...</span>';
            
            try {
                // æµ‹è¯•GitHub API
                const githubResponse = await fetch('https://api.github.com');
                githubStatus.innerHTML = githubResponse.ok ? 
                    '<span class="status-badge status-success">è¿é€šæ­£å¸¸</span>' : 
                    '<span class="status-badge status-warning">å“åº”å¼‚å¸¸</span>';
            } catch {
                githubStatus.innerHTML = '<span class="status-badge status-warning">è¯·æ±‚å¤±è´¥</span>';
            }
            
            try {
                // æµ‹è¯•æéªŒå®˜ç½‘
                const geetestResponse = await fetch('https://www.geetest.com', { mode: 'no-cors' });
                geetestStatus.innerHTML = '<span class="status-badge status-success">å¯è®¿é—®</span>';
            } catch {
                geetestStatus.innerHTML = '<span class="status-badge status-warning">è®¿é—®å¤±è´¥</span>';
            }
            
            try {
                // æµ‹è¯•éƒ¨ç½²ä¿¡æ¯æ–‡ä»¶
                const deployResponse = await fetch('/deployment-info.json');
                if (deployResponse.ok) {
                    const data = await deployResponse.json();
                    deployInfoStatus.innerHTML = '<span class="status-badge status-success">æ•°æ®æ­£å¸¸</span>';
                } else {
                    deployInfoStatus.innerHTML = '<span class="status-badge status-warning">æ–‡ä»¶ç¼ºå¤±</span>';
                }
            } catch {
                deployInfoStatus.innerHTML = '<span class="status-badge status-warning">åŠ è½½å¤±è´¥</span>';
            }
        }

        // åŠ è½½éƒ¨ç½²ä¿¡æ¯
        async function loadDeploymentInfo() {
            const deployStatus = document.getElementById('deployStatus');
            const buildTime = document.getElementById('buildTime');
            const gitCommit = document.getElementById('gitCommit');
            
            deployStatus.innerHTML = '<span class="loading">åŠ è½½ä¸­...</span>';
            
            try {
                const response = await fetch('/deployment-info.json');
                if (response.ok) {
                    const data = await response.json();
                    deployStatus.innerHTML = '<span class="status-badge status-success">éƒ¨ç½²æˆåŠŸ</span>';
                    buildTime.textContent = new Date(data.deployment.timestamp).toLocaleString();
                    gitCommit.textContent = data.deployment.commit.substring(0, 8);
                } else {
                    deployStatus.innerHTML = '<span class="status-badge status-warning">ä¿¡æ¯ç¼ºå¤±</span>';
                }
            } catch (error) {
                deployStatus.innerHTML = '<span class="status-badge status-warning">åŠ è½½å¤±è´¥</span>';
            }
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateEnvironmentInfo();
            testAPIs();
            loadDeploymentInfo();
            
            console.log('ğŸ”§ çœŸå®ç¯å¢ƒéªŒè¯é¡µé¢å·²åŠ è½½');
            console.log('ğŸ“ å½“å‰URL:', window.location.href);
        });
    </script>
</body>
</html>